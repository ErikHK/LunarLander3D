attribute vec3 inPosition;
attribute vec3 inNormal;

varying vec3 exNormal;
varying mat4 cammat;
varying vec4 col;

varying vec3 inPos;

uniform mat4 matrix;
uniform mat4 projmatrix;
uniform mat4 cammatrix;
uniform float ang;
mat4 test;


mat3 normalMatrix = mat3(cammatrix * matrix);
vec3 transformedNormal = normalMatrix * inNormal;

void main(){

  const vec3 light = vec3(0.58, 0.58, 0.58);
  float shade;
  shade = dot(normalize(inNormal), light);
  col = vec4(shade);

  exNormal = transformedNormal;


  gl_Position = projmatrix*cammatrix*matrix*vec4(inPosition.x, inPosition.y, inPosition.z, 1);
  cammat = cammatrix;

  inPos = inPosition;
}